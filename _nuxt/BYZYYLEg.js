import{_ as b}from"./Dkl-7zkc.js";import{p as C,e as N,r as c,j as T,g as x,c as _,b as r,a as t,d as m,w as d,T as B,k as w,F as h,l as y,o as u,h as M,m as o,t as n,n as V}from"./CBXstaJA.js";import{u as j}from"./05oBQV9s.js";import{s as L}from"./BC1oVRab.js";import{B as S,N as $}from"./3FeZlwnG.js";const A=C("/title.svg"),F={class:"wrapper"},O={class:"card-section"},P={key:0,class:"latest-post"},D=["src"],E={class:"latest-content"},G={class:"date"},H={class:"desc"},J={class:"author"},R={class:"thumbnail"},U=["src"],W={class:"date"},q={class:"card-title"},z={class:"desc"},I={class:"author"},K={class:"pagination"},et=N({__name:"index",setup(Q){const p=c("å…¨éƒ¨"),a=T(()=>p.value==="å…¨éƒ¨"?f.value:f.value.filter(i=>{var s;return((s=i.tags)==null?void 0:s[0])===p.value}));function k(i){p.value=i}const g=c(!1);c(!1);const f=c([]);return x(async()=>{const{data:i,error:s}=await L.from("posts").select("*").order("date",{ascending:!1});i&&(f.value=i.map(l=>({...l,tags:JSON.parse(l.tags||"[]")}))),s&&console.error(s)}),j({title:"ä¹åˆå››åˆ†ä¹‹ä¸‰æœˆå°-å…¥å£",meta:[{name:"description",content:"æ­¡è¿Žä¾†åˆ°å®‰å“çš„æŠ€è¡“èˆ‡ç”Ÿæ´»éƒ¨è½æ ¼ï¼"}]}),(i,s)=>{const l=b;return u(),_("div",F,[r($,{onMenuToggle:e=>g.value=e,onCategorySelected:k},null,8,["onMenuToggle"]),s[5]||(s[5]=t("section",{class:"paper-header"},[t("div",{class:"paper-banner"},[t("img",{src:A,alt:"å®‰å“é è¨€å®¶æ—¥å ±æ¨™é ­",class:"paper-title-img"})])],-1)),t("section",O,[t("main",null,[r(l,{to:"/post"},{default:d(()=>s[0]||(s[0]=[m("æ–‡ç« ")])),_:1,__:[0]}),r(l,{to:"/admin"},{default:d(()=>s[1]||(s[1]=[m("æ–°å¢žæ–‡ç« ")])),_:1,__:[1]}),s[4]||(s[4]=m("\\ ")),r(B,{name:"fade"},{default:d(()=>{var e;return[o(a).length?(u(),_("section",P,[r(l,{to:`/post/${o(a)[0].id}`,class:"thumbnail"},{default:d(()=>[t("img",{src:o(a)[0].image_url||"/default.jpg",alt:"å°é¢åœ–ç‰‡"},null,8,D)]),_:1},8,["to"]),t("div",E,[t("p",G," ðŸŽ© "+n(((e=o(a)[0].tags)==null?void 0:e[0])||"æœªåˆ†é¡ž")+" ï½œ "+n(o(a)[0].date),1),t("h2",null,[r(l,{to:`/post/${o(a)[0].id}`},{default:d(()=>[m(n(o(a)[0].title),1)]),_:1},8,["to"])]),t("p",H,n(o(a)[0].summary||o(a)[0].content.slice(0,40))+"... ",1),t("div",J,[s[2]||(s[2]=t("div",{class:"avatar"},null,-1)),t("span",null,n(o(a)[0].author),1)])])])):M("",!0)]}),_:1}),r(w,{name:"fade",tag:"section",class:"card-grid"},{default:d(()=>[(u(!0),_(h,null,y(o(a),e=>(u(),V(l,{key:e.id,to:`/post/${e.id}`,class:"card"},{default:d(()=>{var v;return[t("div",R,[t("img",{src:e.image_url||"/default.jpg",alt:"å°é¢åœ–"},null,8,U)]),t("p",W," âœ¨ "+n(((v=e.tags)==null?void 0:v[0])||"æœªåˆ†é¡ž")+" ï½œ "+n(e.date),1),t("h3",q,n(e.title),1),t("p",z,n(e.summary||e.content.slice(0,40))+"...",1),t("div",I,[s[3]||(s[3]=t("div",{class:"avatar"},null,-1)),t("span",null,n(e.author),1)])]}),_:2},1032,["to"]))),128))]),_:1}),t("div",K,[(u(),_(h,null,y(4,e=>t("button",{key:e},n(e),1)),64))])])]),s[6]||(s[6]=t("footer",null,"Copyright Â© Andrew Portfolio Website 2025",-1)),r(S,{hidden:g.value},null,8,["hidden"])])}}});export{et as default};
